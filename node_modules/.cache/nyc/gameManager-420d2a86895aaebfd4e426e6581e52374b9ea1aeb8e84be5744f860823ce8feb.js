function cov_qdkc43ivj(){var path="/Users/tuanpnm/Class/SE181/realtime_interactive_chess/gameManager.js";var hash="74ef0833ba82a52b61fcaf9698c0ad5f7431fe65";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/tuanpnm/Class/SE181/realtime_interactive_chess/gameManager.js",statementMap:{"0":{start:{line:3,column:4},end:{line:3,column:43}},"1":{start:{line:6,column:4},end:{line:7,column:19}},"2":{start:{line:7,column:6},end:{line:7,column:19}},"3":{start:{line:8,column:4},end:{line:8,column:35}},"4":{start:{line:9,column:15},end:{line:9,column:36}},"5":{start:{line:9,column:45},end:{line:9,column:66}},"6":{start:{line:9,column:75},end:{line:9,column:96}},"7":{start:{line:9,column:105},end:{line:9,column:126}},"8":{start:{line:10,column:4},end:{line:10,column:36}},"9":{start:{line:13,column:4},end:{line:13,column:45}},"10":{start:{line:16,column:4},end:{line:20,column:8}},"11":{start:{line:17,column:6},end:{line:20,column:8}},"12":{start:{line:21,column:16},end:{line:21,column:46}},"13":{start:{line:23,column:4},end:{line:27,column:7}},"14":{start:{line:24,column:6},end:{line:27,column:7}},"15":{start:{line:29,column:4},end:{line:33,column:8}},"16":{start:{line:30,column:6},end:{line:33,column:8}},"17":{start:{line:35,column:4},end:{line:39,column:8}},"18":{start:{line:36,column:6},end:{line:39,column:8}},"19":{start:{line:41,column:4},end:{line:44,column:5}},"20":{start:{line:48,column:22},end:{line:48,column:60}},"21":{start:{line:50,column:4},end:{line:51,column:25}},"22":{start:{line:51,column:6},end:{line:51,column:25}},"23":{start:{line:52,column:15},end:{line:52,column:43}},"24":{start:{line:54,column:4},end:{line:59,column:5}},"25":{start:{line:55,column:6},end:{line:58,column:8}},"26":{start:{line:61,column:15},end:{line:61,column:25}},"27":{start:{line:63,column:17},end:{line:63,column:62}},"28":{start:{line:67,column:4},end:{line:70,column:6}},"29":{start:{line:74,column:0},end:{line:74,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:2},end:{line:2,column:3}},loc:{start:{line:2,column:30},end:{line:4,column:3}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:22},end:{line:11,column:3}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:27},end:{line:14,column:3}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:35},end:{line:45,column:3}},line:15},"4":{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:39},end:{line:71,column:3}},line:46}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:7,column:19}},type:"if",locations:[{start:{line:6,column:4},end:{line:7,column:19}},{start:{line:6,column:4},end:{line:7,column:19}}],line:6},"1":{loc:{start:{line:6,column:7},end:{line:6,column:55}},type:"binary-expr",locations:[{start:{line:6,column:7},end:{line:6,column:23}},{start:{line:6,column:27},end:{line:6,column:55}}],line:6},"2":{loc:{start:{line:13,column:11},end:{line:13,column:44}},type:"cond-expr",locations:[{start:{line:13,column:33},end:{line:13,column:37}},{start:{line:13,column:39},end:{line:13,column:44}}],line:13},"3":{loc:{start:{line:16,column:4},end:{line:20,column:8}},type:"if",locations:[{start:{line:16,column:4},end:{line:20,column:8}},{start:{line:16,column:4},end:{line:20,column:8}}],line:16},"4":{loc:{start:{line:16,column:7},end:{line:16,column:47}},type:"binary-expr",locations:[{start:{line:16,column:7},end:{line:16,column:25}},{start:{line:16,column:29},end:{line:16,column:47}}],line:16},"5":{loc:{start:{line:23,column:4},end:{line:27,column:7}},type:"if",locations:[{start:{line:23,column:4},end:{line:27,column:7}},{start:{line:23,column:4},end:{line:27,column:7}}],line:23},"6":{loc:{start:{line:29,column:4},end:{line:33,column:8}},type:"if",locations:[{start:{line:29,column:4},end:{line:33,column:8}},{start:{line:29,column:4},end:{line:33,column:8}}],line:29},"7":{loc:{start:{line:35,column:4},end:{line:39,column:8}},type:"if",locations:[{start:{line:35,column:4},end:{line:39,column:8}},{start:{line:35,column:4},end:{line:39,column:8}}],line:35},"8":{loc:{start:{line:50,column:4},end:{line:51,column:25}},type:"if",locations:[{start:{line:50,column:4},end:{line:51,column:25}},{start:{line:50,column:4},end:{line:51,column:25}}],line:50},"9":{loc:{start:{line:54,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:59,column:5}},{start:{line:54,column:4},end:{line:59,column:5}}],line:54},"10":{loc:{start:{line:54,column:7},end:{line:54,column:90}},type:"binary-expr",locations:[{start:{line:54,column:7},end:{line:54,column:19}},{start:{line:54,column:22},end:{line:54,column:36}},{start:{line:54,column:40},end:{line:54,column:54}},{start:{line:54,column:58},end:{line:54,column:72}},{start:{line:54,column:76},end:{line:54,column:90}}],line:54}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74ef0833ba82a52b61fcaf9698c0ad5f7431fe65"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_qdkc43ivj=function(){return actualCoverage;};return actualCoverage;}cov_qdkc43ivj();class GameManager{constructor(request_handler){cov_qdkc43ivj().f[0]++;cov_qdkc43ivj().s[0]++;this.REQUEST_HANDLER=request_handler;}parse_move(move_str){cov_qdkc43ivj().f[1]++;cov_qdkc43ivj().s[1]++;if((cov_qdkc43ivj().b[1][0]++,move_str==null)||(cov_qdkc43ivj().b[1][1]++,typeof move_str!='string')){cov_qdkc43ivj().b[0][0]++;cov_qdkc43ivj().s[2]++;return null;}else{cov_qdkc43ivj().b[0][1]++;}cov_qdkc43ivj().s[3]++;move_str=move_str.split(',');var row1=(cov_qdkc43ivj().s[4]++,parseInt(move_str[0])),col1=(cov_qdkc43ivj().s[5]++,parseInt(move_str[1])),row2=(cov_qdkc43ivj().s[6]++,parseInt(move_str[2])),col2=(cov_qdkc43ivj().s[7]++,parseInt(move_str[3]));cov_qdkc43ivj().s[8]++;return[row1,col1,row2,col2];}is_player1(user_id,room){cov_qdkc43ivj().f[2]++;cov_qdkc43ivj().s[9]++;return user_id==room.p1?(cov_qdkc43ivj().b[2][0]++,true):(cov_qdkc43ivj().b[2][1]++,false);}valid_to_make_move(user_id,room){cov_qdkc43ivj().f[3]++;cov_qdkc43ivj().s[10]++;if((cov_qdkc43ivj().b[4][0]++,room.p1!=user_id)&&(cov_qdkc43ivj().b[4][1]++,room.p2!=user_id)){cov_qdkc43ivj().b[3][0]++;cov_qdkc43ivj().s[11]++;return{success:false,msg:"Something wrong happened, please refresh the page!"};}else{cov_qdkc43ivj().b[3][1]++;}var is_p1=(cov_qdkc43ivj().s[12]++,this.is_player1(user_id,room));cov_qdkc43ivj().s[13]++;if(is_p1!=room.chess.p1_turn){cov_qdkc43ivj().b[5][0]++;cov_qdkc43ivj().s[14]++;return{success:false,msg:"This is your opponent turn, please wait!"};}else{cov_qdkc43ivj().b[5][1]++;}cov_qdkc43ivj().s[15]++;if(room==null){cov_qdkc43ivj().b[6][0]++;cov_qdkc43ivj().s[16]++;return{success:false,msg:"Invalid room"};}else{cov_qdkc43ivj().b[6][1]++;}cov_qdkc43ivj().s[17]++;if(room.pause==true){cov_qdkc43ivj().b[7][0]++;cov_qdkc43ivj().s[18]++;return{success:false,msg:"Please wait for your opponent to join!"};}else{cov_qdkc43ivj().b[7][1]++;}cov_qdkc43ivj().s[19]++;return{success:true,msg:"Success!"};}make_move(move_string,user_id,room){cov_qdkc43ivj().f[4]++;//public
var valid_check=(cov_qdkc43ivj().s[20]++,this.valid_to_make_move(user_id,room));cov_qdkc43ivj().s[21]++;if(!valid_check.success){cov_qdkc43ivj().b[8][0]++;cov_qdkc43ivj().s[22]++;return valid_check;}else{cov_qdkc43ivj().b[8][1]++;}var move=(cov_qdkc43ivj().s[23]++,this.parse_move(move_string));cov_qdkc43ivj().s[24]++;if((cov_qdkc43ivj().b[10][0]++,move==null)||(cov_qdkc43ivj().b[10][1]++,isNaN(move[0]))||(cov_qdkc43ivj().b[10][2]++,isNaN(move[1]))||(cov_qdkc43ivj().b[10][3]++,isNaN(move[2]))||(cov_qdkc43ivj().b[10][4]++,isNaN(move[3]))){cov_qdkc43ivj().b[9][0]++;cov_qdkc43ivj().s[25]++;return{success:false,msg:"Invalid move format!"};}else{cov_qdkc43ivj().b[9][1]++;}var game=(cov_qdkc43ivj().s[26]++,room.chess);var result=(cov_qdkc43ivj().s[27]++,game.move(move[0],move[1],move[2],move[3]));//console.log(result);
cov_qdkc43ivj().s[28]++;return{success:result[0],msg:result[1]};}}cov_qdkc43ivj().s[29]++;module.exports=GameManager;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWVNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbIkdhbWVNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJyZXF1ZXN0X2hhbmRsZXIiLCJSRVFVRVNUX0hBTkRMRVIiLCJwYXJzZV9tb3ZlIiwibW92ZV9zdHIiLCJzcGxpdCIsInJvdzEiLCJwYXJzZUludCIsImNvbDEiLCJyb3cyIiwiY29sMiIsImlzX3BsYXllcjEiLCJ1c2VyX2lkIiwicm9vbSIsInAxIiwidmFsaWRfdG9fbWFrZV9tb3ZlIiwicDIiLCJzdWNjZXNzIiwibXNnIiwiaXNfcDEiLCJjaGVzcyIsInAxX3R1cm4iLCJwYXVzZSIsIm1ha2VfbW92ZSIsIm1vdmVfc3RyaW5nIiwidmFsaWRfY2hlY2siLCJtb3ZlIiwiaXNOYU4iLCJnYW1lIiwicmVzdWx0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InVsTEFBQSxLQUFNQSxDQUFBQSxXQUFXLENBQ2ZDLFdBQVcsQ0FBQ0MsZUFBRCxDQUFpQiwrQ0FDMUIsS0FBS0MsZUFBTCxDQUF1QkQsZUFBdkIsQ0FDRCxDQUNERSxVQUFVLENBQUNDLFFBQUQsQ0FBVSwrQ0FDbEIsR0FBRywyQkFBQUEsUUFBUSxFQUFJLElBQVosOEJBQW9CLE1BQU9BLENBQUFBLFFBQVAsRUFBb0IsUUFBeEMsQ0FBSCxDQUNFLHdEQUFRLEtBQVIsQ0FBYSxDQURmLGdDQURrQix1QkFHbEJBLFFBQVEsQ0FBR0EsUUFBUSxDQUFDQyxLQUFULENBQWUsR0FBZixDQUFYLENBQ0EsR0FBSUMsQ0FBQUEsSUFBSSx5QkFBR0MsUUFBUSxDQUFDSCxRQUFRLENBQUMsQ0FBRCxDQUFULENBQVgsQ0FBUixDQUFrQ0ksSUFBSSx5QkFBR0QsUUFBUSxDQUFDSCxRQUFRLENBQUMsQ0FBRCxDQUFULENBQVgsQ0FBdEMsQ0FBZ0VLLElBQUkseUJBQUdGLFFBQVEsQ0FBQ0gsUUFBUSxDQUFDLENBQUQsQ0FBVCxDQUFYLENBQXBFLENBQThGTSxJQUFJLHlCQUFHSCxRQUFRLENBQUNILFFBQVEs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QUZOLENBQVAsQ0FJRCxDQXRFYyxDLHdCQXlFakJDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQmhDLFdBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgR2FtZU1hbmFnZXJ7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RfaGFuZGxlcil7XG4gICAgdGhpcy5SRVFVRVNUX0hBTkRMRVIgPSByZXF1ZXN0X2hhbmRsZXI7XG4gIH1cbiAgcGFyc2VfbW92ZShtb3ZlX3N0cil7XG4gICAgaWYobW92ZV9zdHIgPT0gbnVsbCB8fCB0eXBlb2YobW92ZV9zdHIpICE9ICdzdHJpbmcnKVxuICAgICAgcmV0dXJuICBudWxsO1xuICAgIG1vdmVfc3RyID0gbW92ZV9zdHIuc3BsaXQoJywnKTtcbiAgICB2YXIgcm93MSA9IHBhcnNlSW50KG1vdmVfc3RyWzBdKSwgY29sMSA9IHBhcnNlSW50KG1vdmVfc3RyWzFdKSwgcm93MiA9IHBhcnNlSW50KG1vdmVfc3RyWzJdKSwgY29sMiA9IHBhcnNlSW50KG1vdmVfc3RyWzNdKTtcbiAgICByZXR1cm4gW3JvdzEsIGNvbDEsIHJvdzIsIGNvbDJdO1xuICB9XG4gIGlzX3BsYXllcjEodXNlcl9pZCwgcm9vbSl7XG4gICAgcmV0dXJuICh1c2VyX2lkID09IHJvb20ucDEpPyB0cnVlOiBmYWxzZTtcbiAgfVxuICB2YWxpZF90b19tYWtlX21vdmUodXNlcl9pZCwgcm9vbSl7XG4gICAgaWYocm9vbS5wMSAhPSB1c2VyX2lkICYmIHJvb20ucDIgIT0gdXNlcl9pZClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtc2c6IFwiU29tZXRoaW5nIHdyb25nIGhhcHBlbmVkLCBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSFcIlxuICAgICAgfTtcbiAgICB2YXIgaXNfcDEgPSB0aGlzLmlzX3BsYXllcjEodXNlcl9pZCwgcm9vbSk7XG5cbiAgICBpZiggaXNfcDEgIT0gcm9vbS5jaGVzcy5wMV90dXJuKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1zZzogXCJUaGlzIGlzIHlvdXIgb3Bwb25lbnQgdHVybiwgcGxlYXNlIHdhaXQhXCJcbiAgICAgIH1cblxuICAgIGlmKHJvb20gPT0gbnVsbClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtc2c6IFwiSW52YWxpZCByb29tXCJcbiAgICAgIH07XG5cbiAgICBpZihyb29tLnBhdXNlID09IHRydWUpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbXNnOiBcIlBsZWFzZSB3YWl0IGZvciB5b3VyIG9wcG9uZW50IHRvIGpvaW4hXCJcbiAgICAgIH07XG5cbiAgICByZXR1cm57XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbXNnOiBcIlN1Y2Nlc3MhXCJcbiAgICB9XG4gIH1cbiAgbWFrZV9tb3ZlKG1vdmVfc3RyaW5nLCB1c2VyX2lkLCByb29tKXsgLy9wdWJsaWNcblxuICAgIHZhciB2YWxpZF9jaGVjayA9IHRoaXMudmFsaWRfdG9fbWFrZV9tb3ZlKHVzZXJfaWQsIHJvb20pO1xuXG4gICAgaWYoIXZhbGlkX2NoZWNrLnN1Y2Nlc3MpXG4gICAgICByZXR1cm4gdmFsaWRfY2hlY2s7XG4gICAgdmFyIG1vdmUgPSB0aGlzLnBhcnNlX21vdmUobW92ZV9zdHJpbmcpO1xuXG4gICAgaWYobW92ZSA9PSBudWxsfHwgaXNOYU4obW92ZVswXSkgfHwgaXNOYU4obW92ZVsxXSkgfHwgaXNOYU4obW92ZVsyXSkgfHwgaXNOYU4obW92ZVszXSkpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1zZzogXCJJbnZhbGlkIG1vdmUgZm9ybWF0IVwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBnYW1lID0gcm9vbS5jaGVzcztcblxuICAgIHZhciByZXN1bHQgPSBnYW1lLm1vdmUobW92ZVswXSwgbW92ZVsxXSwgbW92ZVsyXSwgbW92ZVszXSk7XG5cbiAgICAvL2NvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogcmVzdWx0WzBdLFxuICAgICAgbXNnOiByZXN1bHRbMV1cbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gR2FtZU1hbmFnZXI7XG4iXX0=